{"ast":null,"code":"var _jsxFileName = \"D:\\\\crud_employee\\\\todoApp-master\\\\todo\\\\client\\\\src\\\\components\\\\todos\\\\todos.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport \"./todos.css\";\nimport { fetchMyTodos, deleteTodo, markDone, markUndone } from \"../../actions/todo\";\nimport CreateTodo from \"../createTodo/createTodo\";\n\nclass Todos extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.renderTodos = filterTodos => {\n      if (filterTodos && filterTodos.length > 0) {\n        return filterTodos.map((todo, i) => {\n          return React.createElement(\"div\", {\n            className: \"todos-list\",\n            key: i,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 45\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"todo-data\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46\n            },\n            __self: this\n          }, \"Title:\"), todo.Title), React.createElement(\"div\", {\n            className: \"todo-data\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 47\n            },\n            __self: this\n          }, \" \", React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 47\n            },\n            __self: this\n          }, \"Category:\"), todo.Category), React.createElement(\"div\", {\n            className: \"todo-data\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 48\n            },\n            __self: this\n          }, \" \", React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 48\n            },\n            __self: this\n          }, \"Description:\"), todo.Description), React.createElement(\"div\", {\n            className: \"todo-data\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 49\n            },\n            __self: this\n          }, \" \", React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 49\n            },\n            __self: this\n          }, \"Bucket:\"), todo.Bucket), todo.Done ? React.createElement(\"button\", {\n            className: \"btn btn-done\",\n            disabled: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 50\n            },\n            __self: this\n          }, \"Mark as Done\") : React.createElement(\"button\", {\n            className: \"btn btn-done\",\n            onClick: e => {\n              this.props.markDone(todo._id, todo.Creator);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 51\n            },\n            __self: this\n          }, \"Mark as Done\"), todo.Done ? React.createElement(\"button\", {\n            className: \"btn btn-undone\",\n            onClick: e => this.props.markUndone(todo._id, todo.Creator),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 53\n            },\n            __self: this\n          }, \"Mark as Undone\") : React.createElement(\"button\", {\n            className: \"btn btn-undone\",\n            disabled: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 55\n            },\n            __self: this\n          }, \"Mark as Undone\"), React.createElement(\"span\", {\n            className: \"work-btn\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57\n            },\n            __self: this\n          }, React.createElement(\"button\", {\n            className: \"btn btn-edit\",\n            onClick: e => this.editTodo(todo),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58\n            },\n            __self: this\n          }, \"Edit Todo\"), React.createElement(\"button\", {\n            className: \"btn btn-delete\",\n            onClick: e => {\n              this.props.deleteTodo(todo._id, todo.Creator);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59\n            },\n            __self: this\n          }, \"Delete\")));\n        });\n      } else {\n        return React.createElement(\"span\", {\n          className: \"error-todo\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, \"Todos not found.\");\n      }\n    };\n\n    this.renderBuckets = () => {\n      if (this.props.todos && this.props.todos.length > 0) {\n        let todos = this.props.todos;\n        let obj = {};\n\n        for (let i = 0; i < todos.length; i++) {\n          if (obj[todos[i].Bucket]) {} else {\n            obj[todos[i].Bucket] = todos[i].Bucket;\n          }\n        }\n\n        const Buckets = Object.keys(obj).map((todo, i) => {\n          return React.createElement(\"div\", {\n            className: \"todo-list\",\n            key: i,\n            style: {\n              cursor: \"pointer\",\n              borderBottom: \"1px solid white\",\n              background: \"rgba(70, 4, 14, 0.8)\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 86\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"todo-data\",\n            onClick: e => {\n              this.setState({\n                search: obj[todo],\n                showMyTodos: true,\n                showMyBuckets: false\n              });\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 87\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 92\n            },\n            __self: this\n          }, \"Bucket Name:\"), obj[todo]));\n        });\n        return Buckets;\n      } else {\n        return React.createElement(\"span\", {\n          className: \"error-todo\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, \"No buckets created\");\n      }\n    };\n\n    this.showMyBuckets = () => {\n      this.setState(prevstate => {\n        return {\n          showCreateTodo: false,\n          showMyTodos: false,\n          showMyBuckets: true\n        };\n      });\n    };\n\n    this.activeTodoDone = () => {\n      this.setState({\n        activeTodo: null\n      });\n    };\n\n    this.editTodo = todo => {\n      this.setState(prevstate => {\n        return {\n          showMyTodos: !prevstate.showMyTodos,\n          showCreateTodo: !prevstate.showCreateTodo,\n          activeTodo: todo\n        };\n      });\n    };\n\n    this.showMyTodos = () => {\n      this.setState(prevstate => {\n        return {\n          showMyTodos: true,\n          showCreateTodo: false,\n          showMyBuckets: false,\n          search: \"\"\n        };\n      });\n    };\n\n    this.showCreateTodo = () => {\n      this.setState(prevstate => {\n        return {\n          showCreateTodo: true,\n          showMyTodos: false,\n          showMyBuckets: false\n        };\n      });\n    };\n\n    this.closeCreateTodo = () => {\n      this.setState({\n        showCreateTodo: false,\n        showMyTodos: true\n      });\n    };\n\n    this.state = {\n      showCreateTodo: false,\n      showMyTodos: true,\n      activeTodo: null,\n      bucketData: [],\n      search: \"\",\n      showMyBuckets: false\n    };\n\n    if (this.props.user === undefined) {\n      this.props.history.push(\"/\");\n    }\n  }\n\n  componentDidMount() {\n    if (this.props.user) {\n      this.props.fetchMyTodos({\n        Creator: this.props.user.Username\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.todos !== prevProps.todos) {\n      this.setState(prevstate => {\n        const data = this.props.todos.map((todo, i) => {\n          return todo.Bucket;\n        });\n        return {\n          bucketData: [...data]\n        };\n      });\n    }\n  }\n\n  render() {\n    let filterTodos = [];\n\n    if (this.props.todos && this.props.todos.length > 0) {\n      filterTodos = this.props.todos.filter((todo, i) => {\n        if (todo.Bucket === this.state.search) {\n          return todo;\n        }\n      });\n    }\n\n    console.log(filterTodos);\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"todos-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"todos-headers\",\n      onClick: e => {\n        this.showCreateTodo();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"Create Todos\"), React.createElement(\"div\", {\n      className: \"todos-headers\",\n      onClick: e => this.showMyTodos(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"My Todos\"), React.createElement(\"div\", {\n      className: \"todos-headers\",\n      onClick: e => {\n        this.showMyBuckets();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, \"My Buckets\")), React.createElement(\"div\", {\n      className: this.state.showCreateTodo ? \"todo-form-container animate-form\" : \"remove-form-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(CreateTodo, {\n      data: this.state.bucketData,\n      activeTodoDone: this.activeTodoDone,\n      todo: this.state.activeTodo,\n      user: this.props.user,\n      closeCreateTodo: this.closeCreateTodo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    })), this.state.showMyTodos && React.createElement(\"div\", {\n      className: \"todos-list-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"search-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, \"Search using BucketName:\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"input-field search\",\n      style: {\n        backgroundColor: \"rgba(0,0,0,0.8)\"\n      },\n      value: this.state.search,\n      onChange: e => {\n        this.setState({\n          search: e.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    })), this.renderTodos(this.state.search !== \"\" ? filterTodos : this.props.todos)), this.state.showMyBuckets && React.createElement(\"div\", {\n      className: \"todos-list-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, this.renderBuckets()));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.User.user,\n    todos: state.Todos.myTodos\n  };\n};\n\nexport default connect(mapStateToProps, {\n  fetchMyTodos,\n  deleteTodo,\n  markDone,\n  markUndone\n})(Todos);","map":{"version":3,"sources":["D:/crud_employee/todoApp-master/todo/client/src/components/todos/todos.js"],"names":["React","connect","fetchMyTodos","deleteTodo","markDone","markUndone","CreateTodo","Todos","Component","constructor","props","renderTodos","filterTodos","length","map","todo","i","Title","Category","Description","Bucket","Done","e","_id","Creator","editTodo","renderBuckets","todos","obj","Buckets","Object","keys","cursor","borderBottom","background","setState","search","showMyTodos","showMyBuckets","prevstate","showCreateTodo","activeTodoDone","activeTodo","closeCreateTodo","state","bucketData","user","undefined","history","push","componentDidMount","Username","componentDidUpdate","prevProps","prevState","data","render","filter","console","log","backgroundColor","target","value","mapStateToProps","User","myTodos"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAO,aAAP;AACA,SAAQC,YAAR,EAAqBC,UAArB,EAAgCC,QAAhC,EAAyCC,UAAzC,QAA0D,oBAA1D;AACA,OAAOC,UAAP,MAAuB,0BAAvB;;AACA,MAAMC,KAAN,SAAoBP,KAAK,CAACQ,SAA1B,CAAmC;AAC/BC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;;AADc,SAkClBC,WAlCkB,GAkCLC,WAAD,IAAe;AACvB,UAAGA,WAAW,IAAIA,WAAW,CAACC,MAAZ,GAAqB,CAAvC,EAAyC;AACzC,eAAOD,WAAW,CAACE,GAAZ,CAAgB,CAACC,IAAD,EAAMC,CAAN,KAAU;AAC7B,iBACI;AAAK,YAAA,SAAS,EAAC,YAAf;AAA4B,YAAA,GAAG,EAAEA,CAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACA;AAAK,YAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAA2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAA3B,EAA+CD,IAAI,CAACE,KAApD,CADA,EAED;AAAK,YAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAA5B,EAAmDF,IAAI,CAACG,QAAxD,CAFC,EAGD;AAAK,YAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAA5B,EAAsDH,IAAI,CAACI,WAA3D,CAHC,EAID;AAAK,YAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAA5B,EAAiDJ,IAAI,CAACK,MAAtD,CAJC,EAKAL,IAAI,CAACM,IAAL,GAAY;AAAQ,YAAA,SAAS,EAAC,cAAlB;AAAiC,YAAA,QAAQ,MAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAZ,GACJ;AAAQ,YAAA,SAAS,EAAC,cAAlB;AACC,YAAA,OAAO,EAAEC,CAAC,IAAE;AAAC,mBAAKZ,KAAL,CAAWN,QAAX,CAAoBW,IAAI,CAACQ,GAAzB,EAA6BR,IAAI,CAACS,OAAlC;AAA2C,aADzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BANI,EAQAT,IAAI,CAACM,IAAL,GAAY;AAAQ,YAAA,SAAS,EAAC,gBAAlB;AACb,YAAA,OAAO,EAAEC,CAAC,IAAE,KAAKZ,KAAL,CAAWL,UAAX,CAAsBU,IAAI,CAACQ,GAA3B,EAA+BR,IAAI,CAACS,OAApC,CADC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAAZ,GAED;AAAQ,YAAA,SAAS,EAAC,gBAAlB;AAAmC,YAAA,QAAQ,MAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAVC,EAYA;AAAM,YAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACA;AAAQ,YAAA,SAAS,EAAC,cAAlB;AAAiC,YAAA,OAAO,EAAEF,CAAC,IAAE,KAAKG,QAAL,CAAcV,IAAd,CAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADA,EAEA;AAAQ,YAAA,SAAS,EAAC,gBAAlB;AACC,YAAA,OAAO,EAAEO,CAAC,IAAE;AAAC,mBAAKZ,KAAL,CAAWP,UAAX,CAAsBY,IAAI,CAACQ,GAA3B,EAA+BR,IAAI,CAACS,OAApC;AAA6C,aAD3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFA,CAZA,CADJ;AAoBH,SArBM,CAAP;AAsBH,OAvBG,MAyBA;AACA,eAAO;AAAM,UAAA,SAAS,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAAP;AACH;AACA,KA/DiB;;AAAA,SAgElBE,aAhEkB,GAgEJ,MAAI;AACd,UAAG,KAAKhB,KAAL,CAAWiB,KAAX,IAAoB,KAAKjB,KAAL,CAAWiB,KAAX,CAAiBd,MAAjB,GAAyB,CAAhD,EAAkD;AAAA,YAC3Cc,KAD2C,GACpC,KAAKjB,KAD+B,CAC3CiB,KAD2C;AAEhD,YAAIC,GAAG,GAAC,EAAR;;AACE,aAAI,IAAIZ,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACW,KAAK,CAACd,MAApB,EAA2BG,CAAC,EAA5B,EAA+B;AAC3B,cAAGY,GAAG,CAACD,KAAK,CAACX,CAAD,CAAL,CAASI,MAAV,CAAN,EAAwB,CAEvB,CAFD,MAGI;AACAQ,YAAAA,GAAG,CAACD,KAAK,CAACX,CAAD,CAAL,CAASI,MAAV,CAAH,GAAqBO,KAAK,CAACX,CAAD,CAAL,CAASI,MAA9B;AACH;AACJ;;AACJ,cAAMS,OAAO,GAACC,MAAM,CAACC,IAAP,CAAYH,GAAZ,EAAiBd,GAAjB,CAAqB,CAACC,IAAD,EAAMC,CAAN,KAAU;AAEvC,iBACI;AAAK,YAAA,SAAS,EAAC,WAAf;AAA2B,YAAA,GAAG,EAAEA,CAAhC;AAAmC,YAAA,KAAK,EAAE;AAACgB,cAAAA,MAAM,EAAC,SAAR;AAAkBC,cAAAA,YAAY,EAAC,iBAA/B;AAAiDC,cAAAA,UAAU,EAAC;AAA5D,aAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI;AAAK,YAAA,SAAS,EAAC,WAAf;AAA2B,YAAA,OAAO,EAAEZ,CAAC,IAAE;AACnC,mBAAKa,QAAL,CAAc;AAACC,gBAAAA,MAAM,EAACR,GAAG,CAACb,IAAD,CAAX;AACbsB,gBAAAA,WAAW,EAAC,IADC;AAEbC,gBAAAA,aAAa,EAAC;AAFD,eAAd;AAGA,aAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAKC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BALD,EAK2BV,GAAG,CAACb,IAAD,CAL9B,CADJ,CADJ;AAYP,SAde,CAAd;AAiBF,eAAOc,OAAP;AACF,OA7BG,MA8BA;AACA,eAAO;AAAM,UAAA,SAAS,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAAP;AACH;AACJ,KAlGqB;;AAAA,SAoGlBS,aApGkB,GAoGJ,MAAI;AACd,WAAKH,QAAL,CAAeI,SAAD,IAAa;AACvB,eAAM;AACNC,UAAAA,cAAc,EAAC,KADT;AAENH,UAAAA,WAAW,EAAC,KAFN;AAGNC,UAAAA,aAAa,EAAC;AAHR,SAAN;AAKH,OAND;AAOH,KA5GiB;;AAAA,SA6GlBG,cA7GkB,GA6GH,MAAI;AACf,WAAKN,QAAL,CAAc;AACVO,QAAAA,UAAU,EAAC;AADD,OAAd;AAGH,KAjHiB;;AAAA,SAkHlBjB,QAlHkB,GAkHRV,IAAD,IAAQ;AACb,WAAKoB,QAAL,CAAeI,SAAD,IAAa;AACvB,eAAM;AACFF,UAAAA,WAAW,EAAC,CAACE,SAAS,CAACF,WADrB;AAEFG,UAAAA,cAAc,EAAC,CAACD,SAAS,CAACC,cAFxB;AAGFE,UAAAA,UAAU,EAAC3B;AAHT,SAAN;AAKH,OAND;AAOH,KA1HiB;;AAAA,SA2HlBsB,WA3HkB,GA2HN,MAAI;AACZ,WAAKF,QAAL,CAAeI,SAAD,IAAa;AACvB,eAAM;AACNF,UAAAA,WAAW,EAAC,IADN;AAENG,UAAAA,cAAc,EAAC,KAFT;AAGNF,UAAAA,aAAa,EAAC,KAHR;AAINF,UAAAA,MAAM,EAAC;AAJD,SAAN;AAMH,OAPD;AAQH,KApIiB;;AAAA,SAqIlBI,cArIkB,GAqIH,MAAI;AACf,WAAKL,QAAL,CAAeI,SAAD,IAAa;AACvB,eAAM;AACNC,UAAAA,cAAc,EAAC,IADT;AAENH,UAAAA,WAAW,EAAC,KAFN;AAGNC,UAAAA,aAAa,EAAC;AAHR,SAAN;AAKH,OAND;AAOH,KA7IiB;;AAAA,SA8IlBK,eA9IkB,GA8IF,MAAI;AAChB,WAAKR,QAAL,CAAc;AAACK,QAAAA,cAAc,EAAC,KAAhB;AAAsBH,QAAAA,WAAW,EAAC;AAAlC,OAAd;AACH,KAhJiB;;AAEd,SAAKO,KAAL,GAAW;AACPJ,MAAAA,cAAc,EAAC,KADR;AAEPH,MAAAA,WAAW,EAAC,IAFL;AAGPK,MAAAA,UAAU,EAAC,IAHJ;AAIPG,MAAAA,UAAU,EAAC,EAJJ;AAKPT,MAAAA,MAAM,EAAC,EALA;AAMPE,MAAAA,aAAa,EAAC;AANP,KAAX;;AAQA,QAAG,KAAK5B,KAAL,CAAWoC,IAAX,KAAkBC,SAArB,EAA+B;AAC3B,WAAKrC,KAAL,CAAWsC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACH;AACJ;;AACDC,EAAAA,iBAAiB,GAAE;AAChB,QAAG,KAAKxC,KAAL,CAAWoC,IAAd,EAAmB;AAClB,WAAKpC,KAAL,CAAWR,YAAX,CAAwB;AAACsB,QAAAA,OAAO,EAAC,KAAKd,KAAL,CAAWoC,IAAX,CAAgBK;AAAzB,OAAxB;AACA;AACH;;AACDC,EAAAA,kBAAkB,CAACC,SAAD,EAAWC,SAAX,EAAqB;AAEnC,QAAG,KAAK5C,KAAL,CAAWiB,KAAX,KAAmB0B,SAAS,CAAC1B,KAAhC,EAAsC;AAClC,WAAKQ,QAAL,CAAeI,SAAD,IAAa;AACvB,cAAMgB,IAAI,GAAC,KAAK7C,KAAL,CAAWiB,KAAX,CAAiBb,GAAjB,CAAqB,CAACC,IAAD,EAAMC,CAAN,KAAU;AACtC,iBAAOD,IAAI,CAACK,MAAZ;AACH,SAFU,CAAX;AAGA,eAAM;AACNyB,UAAAA,UAAU,EAAC,CAAC,GAAGU,IAAJ;AADL,SAAN;AAGH,OAPD;AAUH;AACJ;;AAgHDC,EAAAA,MAAM,GAAE;AACN,QAAI5C,WAAW,GAAC,EAAhB;;AACE,QAAG,KAAKF,KAAL,CAAWiB,KAAX,IAAoB,KAAKjB,KAAL,CAAWiB,KAAX,CAAiBd,MAAjB,GAAyB,CAAhD,EAAmD;AACzDD,MAAAA,WAAW,GAAE,KAAKF,KAAL,CAAWiB,KAAX,CAAiB8B,MAAjB,CAAwB,CAAC1C,IAAD,EAAMC,CAAN,KAAU;AAC7C,YAAGD,IAAI,CAACK,MAAL,KAAe,KAAKwB,KAAL,CAAWR,MAA7B,EAAqC;AACrC,iBAAOrB,IAAP;AACC;AACD,OAJW,CAAb;AAKD;;AACD2C,IAAAA,OAAO,CAACC,GAAR,CAAY/C,WAAZ;AAEQ,WACI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEA;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEA;AAAK,MAAA,SAAS,EAAC,eAAf;AAA+B,MAAA,OAAO,EAAEU,CAAC,IAAE;AAAC,aAAKkB,cAAL;AAAsB,OAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFA,EAKA;AAAK,MAAA,SAAS,EAAC,eAAf;AAA+B,MAAA,OAAO,EAAElB,CAAC,IAAE,KAAKe,WAAL,EAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALA,EAOA;AAAK,MAAA,SAAS,EAAC,eAAf;AAA+B,MAAA,OAAO,EAAEf,CAAC,IAAE;AAAC,aAAKgB,aAAL;AAAqB,OAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAPA,CAFA,EAaE;AAAK,MAAA,SAAS,EAAE,KAAKM,KAAL,CAAWJ,cAAX,GAA0B,kCAA1B,GAA6D,uBAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,UAAD;AAAY,MAAA,IAAI,EAAE,KAAKI,KAAL,CAAWC,UAA7B;AAAyC,MAAA,cAAc,EAAE,KAAKJ,cAA9D;AAA8E,MAAA,IAAI,EAAE,KAAKG,KAAL,CAAWF,UAA/F;AAA2G,MAAA,IAAI,EAAE,KAAKhC,KAAL,CAAWoC,IAA5H;AAAkI,MAAA,eAAe,EAAE,KAAKH,eAAxJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,CAbF,EAiBF,KAAKC,KAAL,CAAWP,WAAX,IAAyB;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAC1B;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADV,EAEU;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,SAAS,EAAC,oBAA7B;AAAmD,MAAA,KAAK,EAAE;AAACuB,QAAAA,eAAe,EAAC;AAAjB,OAA1D;AAA+F,MAAA,KAAK,EAAE,KAAKhB,KAAL,CAAWR,MAAjH;AAAyH,MAAA,QAAQ,EAAEd,CAAC,IAAE;AAAC,aAAKa,QAAL,CAAc;AAACC,UAAAA,MAAM,EAACd,CAAC,CAACuC,MAAF,CAASC;AAAjB,SAAd;AAAuC,OAA9K;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFV,CAD0B,EAKrB,KAAKnD,WAAL,CAAiB,KAAKiC,KAAL,CAAWR,MAAX,KAAoB,EAApB,GAAuBxB,WAAvB,GAAmC,KAAKF,KAAL,CAAWiB,KAA/D,CALqB,CAjBvB,EAyBF,KAAKiB,KAAL,CAAWN,aAAX,IAA4B;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACzB,KAAKZ,aAAL,EADyB,CAzB1B,CADJ;AA+BH;;AA5L8B;;AAgMnC,MAAMqC,eAAe,GAAEnB,KAAD,IAAS;AAC3B,SAAM;AACFE,IAAAA,IAAI,EAACF,KAAK,CAACoB,IAAN,CAAWlB,IADd;AAEFnB,IAAAA,KAAK,EAACiB,KAAK,CAACrC,KAAN,CAAY0D;AAFhB,GAAN;AAIH,CALD;;AAMA,eAAehE,OAAO,CAAC8D,eAAD,EAAiB;AAAC7D,EAAAA,YAAD;AAAcC,EAAAA,UAAd;AAAyBC,EAAAA,QAAzB;AAAkCC,EAAAA;AAAlC,CAAjB,CAAP,CAAuEE,KAAvE,CAAf","sourcesContent":["import React from \"react\";\nimport {connect} from \"react-redux\"\nimport \"./todos.css\"\nimport {fetchMyTodos,deleteTodo,markDone,markUndone} from \"../../actions/todo\"\nimport CreateTodo from \"../createTodo/createTodo\";\nclass Todos extends React.Component{\n    constructor(props){\n        super(props);\n        this.state={\n            showCreateTodo:false,\n            showMyTodos:true,\n            activeTodo:null,\n            bucketData:[],\n            search:\"\",\n            showMyBuckets:false\n        }\n        if(this.props.user===undefined){\n            this.props.history.push(\"/\");\n        }\n    }\n    componentDidMount(){\n       if(this.props.user){\n        this.props.fetchMyTodos({Creator:this.props.user.Username})\n       }\n    }\n    componentDidUpdate(prevProps,prevState){\n       \n        if(this.props.todos!==prevProps.todos){\n            this.setState((prevstate)=>{\n                const data=this.props.todos.map((todo,i)=>{\n                    return todo.Bucket\n                })\n                return{\n                bucketData:[...data]\n                }\n            }\n               )\n            \n        }\n    }\n    renderTodos=(filterTodos)=>{\n        if(filterTodos && filterTodos.length > 0){\n        return filterTodos.map((todo,i)=>{\n            return(\n                <div className=\"todos-list\" key={i}>\n                <div className=\"todo-data\"><span>Title:</span>{todo.Title}</div>\n               <div className=\"todo-data\"> <span>Category:</span>{todo.Category}</div>\n               <div className=\"todo-data\"> <span>Description:</span>{todo.Description}</div>\n               <div className=\"todo-data\"> <span>Bucket:</span>{todo.Bucket}</div>\n               {todo.Done ? <button className=\"btn btn-done\" disabled>Mark as Done</button>:\n            <button className=\"btn btn-done\"\n             onClick={e=>{this.props.markDone(todo._id,todo.Creator)}}>Mark as Done</button>}\n               {todo.Done ? <button className=\"btn btn-undone\"\n               onClick={e=>this.props.markUndone(todo._id,todo.Creator)}>Mark as Undone</button>:\n               <button className=\"btn btn-undone\" disabled>Mark as Undone</button>\n            }\n                <span className=\"work-btn\">\n                <button className=\"btn btn-edit\" onClick={e=>this.editTodo(todo)}>Edit Todo</button>\n                <button className=\"btn btn-delete\"\n                 onClick={e=>{this.props.deleteTodo(todo._id,todo.Creator)}}>Delete</button>\n                </span>\n               </div>\n            )\n        })\n    }\n  \n    else{\n        return <span className=\"error-todo\">Todos not found.</span>\n    }\n    }\n    renderBuckets=()=>{\n        if(this.props.todos && this.props.todos.length >0){\n          let {todos}=this.props;\n          let obj={};\n            for(let i=0;i<todos.length;i++){\n                if(obj[todos[i].Bucket]){\n\n                }\n                else{\n                    obj[todos[i].Bucket]=todos[i].Bucket\n                }\n            }\n         const Buckets=Object.keys(obj).map((todo,i)=>{\n            \n               return (\n                   <div className=\"todo-list\" key={i} style={{cursor:\"pointer\",borderBottom:\"1px solid white\",background:\"rgba(70, 4, 14, 0.8)\"}}>\n                       <div className=\"todo-data\" onClick={e=>{\n                           this.setState({search:obj[todo],\n                            showMyTodos:true,\n                            showMyBuckets:false\n                        })}}\n                       ><span>Bucket Name:</span>{obj[todo]}</div>\n                   </div>\n               )\n                    \n\n       })\n      \n      \n       return Buckets;\n    }\n    else{\n        return <span className=\"error-todo\">No buckets created</span>\n    }\n}\n\n    showMyBuckets=()=>{\n        this.setState((prevstate)=>{\n            return{\n            showCreateTodo:false,\n            showMyTodos:false,\n            showMyBuckets:true\n            }\n        })\n    }\n    activeTodoDone=()=>{\n        this.setState({\n            activeTodo:null\n        })\n    }\n    editTodo=(todo)=>{\n        this.setState((prevstate)=>{\n            return{\n                showMyTodos:!prevstate.showMyTodos,\n                showCreateTodo:!prevstate.showCreateTodo,\n                activeTodo:todo\n            }\n        })\n    }\n    showMyTodos=()=>{\n        this.setState((prevstate)=>{\n            return{\n            showMyTodos:true,\n            showCreateTodo:false,\n            showMyBuckets:false,\n            search:\"\"\n            }\n        })\n    }\n    showCreateTodo=()=>{\n        this.setState((prevstate)=>{\n            return{\n            showCreateTodo:true,\n            showMyTodos:false,\n            showMyBuckets:false\n            }\n        })\n    }\n    closeCreateTodo=()=>{\n        this.setState({showCreateTodo:false,showMyTodos:true})\n    }\n    render(){\n      let filterTodos=[]\n        if(this.props.todos && this.props.todos.length >0 ){\n  filterTodos= this.props.todos.filter((todo,i)=>{\n    if(todo.Bucket===(this.state.search)){\n    return todo\n    }\n   })\n}\nconsole.log(filterTodos)\n\n        return(\n            <React.Fragment>\n              \n            <div className=\"todos-container\">\n            \n            <div className=\"todos-headers\" onClick={e=>{this.showCreateTodo()}}>Create Todos\n         \n         </div>\n            <div className='todos-headers' onClick={e=>this.showMyTodos()}>My Todos</div>\n\n            <div className=\"todos-headers\" onClick={e=>{this.showMyBuckets()}}>My Buckets</div>\n            \n         \n            </div>\n              <div className={this.state.showCreateTodo?\"todo-form-container animate-form\":\"remove-form-container\"}>\n              <CreateTodo data={this.state.bucketData} activeTodoDone={this.activeTodoDone} todo={this.state.activeTodo} user={this.props.user} closeCreateTodo={this.closeCreateTodo}/>\n          </div>\n          \n         {this.state.showMyTodos &&<div className=\"todos-list-container\">\n         <div className=\"search-container\">\n                   <label>Search using BucketName:</label>\n                   <input type=\"text\" className=\"input-field search\"  style={{backgroundColor:\"rgba(0,0,0,0.8)\"}} value={this.state.search} onChange={e=>{this.setState({search:e.target.value})}}/>\n                   </div>\n             {this.renderTodos(this.state.search!==\"\"?filterTodos:this.props.todos)}\n             \n         </div>} \n         {this.state.showMyBuckets && <div className=\"todos-list-container\">\n            {this.renderBuckets()}\n             </div>}\n          </React.Fragment>\n        )\n    }\n   \n}\n\nconst mapStateToProps=(state)=>{\n    return{\n        user:state.User.user,\n        todos:state.Todos.myTodos\n    }\n}\nexport default connect(mapStateToProps,{fetchMyTodos,deleteTodo,markDone,markUndone})(Todos);"]},"metadata":{},"sourceType":"module"}