{"ast":null,"code":"var _jsxFileName = \"D:\\\\crud_employee\\\\todoApp-master\\\\todo\\\\client\\\\src\\\\components\\\\createTodo\\\\createTodo.js\";\nimport React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from 'react-redux';\nimport { addTodo, editTodo } from \"../../actions/todo\";\n\nclass CreateTodo extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = (value, name) => {\n      this.setState(prevstate => {\n        return {\n          [name]: value\n        };\n      });\n    };\n\n    this.handleDatalistChange = e => {\n      this.setState({\n        Bucket: e.target.value\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      let _this$state = this.state,\n          emp_id = _this$state.emp_id,\n          firstName = _this$state.firstName,\n          lastName = _this$state.lastName,\n          age = _this$state.age,\n          bucket = _this$state.bucket;\n      const Creator = this.props.user.Username;\n\n      if (Bucket === \"\") {\n        Bucket = \"Customised\";\n      }\n\n      if (this.props.todo === null) {\n        this.props.addTodo({\n          Title,\n          Category,\n          Description,\n          Creator,\n          Bucket\n        }, this.props.closeCreateTodo);\n      } else {\n        this.props.editTodo({\n          id: this.props.todo._id,\n          Title,\n          Category,\n          Description,\n          Creator,\n          Bucket\n        }, this.props.closeCreateTodo, this.props.activeTodoDone);\n      }\n    };\n\n    this.renderTodoForm = () => {\n      const fields = [{\n        tag: \"input\",\n        label: \"Title\",\n        type: \"text\",\n        className: \"input-field\",\n        value: this.state.Title,\n        onChange: this.handleChange\n      }, {\n        tag: \"input\",\n        label: \"Category\",\n        type: \"text\",\n        className: \"input-field\",\n        value: this.state.Category,\n        onChange: this.handleChange\n      }, {\n        tag: \"input\",\n        label: \"Description\",\n        type: \"text\",\n        className: \"input-field\",\n        value: this.state.Description,\n        onChange: this.handleChange\n      }];\n      return fields.map((field, i) => {\n        if (field.tag === \"input\") {\n          return React.createElement(\"div\", {\n            className: \"field-container\",\n            key: i,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 76\n            },\n            __self: this\n          }, React.createElement(\"label\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 77\n            },\n            __self: this\n          }, field.label, \":\"), React.createElement(\"input\", {\n            className: \"input-field\",\n            type: field.type,\n            value: field.value,\n            onChange: e => field.onChange(e.target.value, field.label),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 78\n            },\n            __self: this\n          }));\n        }\n      });\n    };\n\n    this.state = {\n      emp_id: \"\",\n      firstName: \"\",\n      lastName: \"\",\n      age: \"\",\n      bucket: \"\",\n      data: this.props.data\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.todo !== this.props.todo && this.props.todo !== null) {\n      this.setState({\n        emp_id: this.props.todo.emp_id,\n        firstName: this.props.todo.firstName,\n        lastName: this.props.todo.lastName,\n        age: this.props.todo.age\n      });\n    }\n\n    if (prevProps.data !== this.props.data) {\n      this.setState({\n        data: this.props.data\n      });\n    }\n  }\n\n  render() {\n    const styleobj = {\n      color: \"white\",\n      textAlign: \"right\",\n      margin: \"15px\",\n      cursor: \"pointer\",\n      padding: \"4px\"\n    };\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: e => this.onSubmit(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: styleobj,\n      onClick: e => {\n        this.props.closeCreateTodo();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"X\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, this.renderTodoForm(), React.createElement(\"div\", {\n      className: \"field-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Bucket:\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"input-field\",\n      list: \"data\",\n      onChange: this.handleDatalistChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(\"datalist\", {\n      id: \"data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, this.state.data.map((item, key) => React.createElement(\"option\", {\n      key: key,\n      value: item,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }))))), this.props.todo === null ? React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn-login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Create Todo\") : React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn-login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"Edit Todo\")));\n  }\n\n}\n\nexport default withRouter(connect(null, {\n  addTodo,\n  editTodo\n})(CreateTodo));","map":{"version":3,"sources":["D:/crud_employee/todoApp-master/todo/client/src/components/createTodo/createTodo.js"],"names":["React","withRouter","connect","addTodo","editTodo","CreateTodo","Component","constructor","props","handleChange","value","name","setState","prevstate","handleDatalistChange","e","Bucket","target","onSubmit","preventDefault","state","emp_id","firstName","lastName","age","bucket","Creator","user","Username","todo","Title","Category","Description","closeCreateTodo","id","_id","activeTodoDone","renderTodoForm","fields","tag","label","type","className","onChange","map","field","i","data","componentDidUpdate","prevProps","prevState","render","styleobj","color","textAlign","margin","cursor","padding","item","key"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,OAAR,EAAgBC,QAAhB,QAA+B,oBAA/B;;AACA,MAAMC,UAAN,SAAyBL,KAAK,CAACM,SAA/B,CAAwC;AACpCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;;AADc,SA6BlBC,YA7BkB,GA6BL,CAACC,KAAD,EAAOC,IAAP,KAAc;AACvB,WAAKC,QAAL,CAAeC,SAAD,IAAa;AAEvB,eAAM;AACN,WAACF,IAAD,GAAOD;AADD,SAAN;AAGH,OALD;AAMH,KApCiB;;AAAA,SAqClBI,oBArCkB,GAqCIC,CAAD,IAAK;AACtB,WAAKH,QAAL,CAAc;AACVI,QAAAA,MAAM,EAACD,CAAC,CAACE,MAAF,CAASP;AADN,OAAd;AAGH,KAzCiB;;AAAA,SA0ClBQ,QA1CkB,GA0CRH,CAAD,IAAK;AACVA,MAAAA,CAAC,CAACI,cAAF;AADU,wBAE6B,KAAKC,KAFlC;AAAA,UAETC,MAFS,eAETA,MAFS;AAAA,UAEFC,SAFE,eAEFA,SAFE;AAAA,UAEQC,QAFR,eAEQA,QAFR;AAAA,UAEiBC,GAFjB,eAEiBA,GAFjB;AAAA,UAEqBC,MAFrB,eAEqBA,MAFrB;AAGb,YAAMC,OAAO,GAAC,KAAKlB,KAAL,CAAWmB,IAAX,CAAgBC,QAA9B;;AACA,UAAGZ,MAAM,KAAG,EAAZ,EAAe;AACZA,QAAAA,MAAM,GAAC,YAAP;AACF;;AACD,UAAG,KAAKR,KAAL,CAAWqB,IAAX,KAAkB,IAArB,EAA0B;AACvB,aAAKrB,KAAL,CAAWL,OAAX,CAAmB;AAAC2B,UAAAA,KAAD;AAAOC,UAAAA,QAAP;AAAgBC,UAAAA,WAAhB;AAA4BN,UAAAA,OAA5B;AAAoCV,UAAAA;AAApC,SAAnB,EAA+D,KAAKR,KAAL,CAAWyB,eAA1E;AACF,OAFD,MAGI;AAEA,aAAKzB,KAAL,CAAWJ,QAAX,CAAoB;AAAC8B,UAAAA,EAAE,EAAC,KAAK1B,KAAL,CAAWqB,IAAX,CAAgBM,GAApB;AAAwBL,UAAAA,KAAxB;AAA8BC,UAAAA,QAA9B;AAAuCC,UAAAA,WAAvC;AAAmDN,UAAAA,OAAnD;AAA2DV,UAAAA;AAA3D,SAApB,EAAuF,KAAKR,KAAL,CAAWyB,eAAlG,EAAmH,KAAKzB,KAAL,CAAW4B,cAA9H;AAEH;AAED,KA1DiB;;AAAA,SA4DlBC,cA5DkB,GA4DH,MAAI;AACf,YAAMC,MAAM,GAAC,CAAE;AAACC,QAAAA,GAAG,EAAC,OAAL;AAAaC,QAAAA,KAAK,EAAC,OAAnB;AAA2BC,QAAAA,IAAI,EAAC,MAAhC;AAAuCC,QAAAA,SAAS,EAAC,aAAjD;AACfhC,QAAAA,KAAK,EAAC,KAAKU,KAAL,CAAWU,KADF;AACQa,QAAAA,QAAQ,EAAC,KAAKlC;AADtB,OAAF,EAEb;AAAC8B,QAAAA,GAAG,EAAC,OAAL;AAAaC,QAAAA,KAAK,EAAC,UAAnB;AAA8BC,QAAAA,IAAI,EAAC,MAAnC;AAA0CC,QAAAA,SAAS,EAAC,aAApD;AACAhC,QAAAA,KAAK,EAAC,KAAKU,KAAL,CAAWW,QADjB;AAC0BY,QAAAA,QAAQ,EAAC,KAAKlC;AADxC,OAFa,EAIb;AAAC8B,QAAAA,GAAG,EAAC,OAAL;AAAaC,QAAAA,KAAK,EAAC,aAAnB;AAAiCC,QAAAA,IAAI,EAAC,MAAtC;AAA6CC,QAAAA,SAAS,EAAC,aAAvD;AACAhC,QAAAA,KAAK,EAAC,KAAKU,KAAL,CAAWY,WADjB;AAC6BW,QAAAA,QAAQ,EAAC,KAAKlC;AAD3C,OAJa,CAAb;AAMD,aAAO6B,MAAM,CAACM,GAAP,CAAW,CAACC,KAAD,EAAOC,CAAP,KAAW;AACzB,YAAGD,KAAK,CAACN,GAAN,KAAY,OAAf,EAAuB;AACtB,iBACI;AAAK,YAAA,SAAS,EAAC,iBAAf;AAAiC,YAAA,GAAG,EAAEO,CAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAQD,KAAK,CAACL,KAAd,MADA,EAEA;AAAO,YAAA,SAAS,EAAC,aAAjB;AAA+B,YAAA,IAAI,EAAEK,KAAK,CAACJ,IAA3C;AAAiD,YAAA,KAAK,EAAEI,KAAK,CAACnC,KAA9D;AAAqE,YAAA,QAAQ,EAAGK,CAAD,IAAK8B,KAAK,CAACF,QAAN,CAAe5B,CAAC,CAACE,MAAF,CAASP,KAAxB,EAA8BmC,KAAK,CAACL,KAApC,CAApF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFA,CADJ;AAMA;AAEH,OAVK,CAAP;AAYF,KA/EiB;;AAGd,SAAKpB,KAAL,GAAW;AACPC,MAAAA,MAAM,EAAE,EADD;AAEPC,MAAAA,SAAS,EAAC,EAFH;AAGPC,MAAAA,QAAQ,EAAE,EAHH;AAIPC,MAAAA,GAAG,EAAC,EAJG;AAKPC,MAAAA,MAAM,EAAC,EALA;AAMPsB,MAAAA,IAAI,EAAC,KAAKvC,KAAL,CAAWuC;AANT,KAAX;AAQH;;AACDC,EAAAA,kBAAkB,CAACC,SAAD,EAAWC,SAAX,EAAqB;AAEnC,QAAGD,SAAS,CAACpB,IAAV,KAAiB,KAAKrB,KAAL,CAAWqB,IAA5B,IAAoC,KAAKrB,KAAL,CAAWqB,IAAX,KAAmB,IAA1D,EAA+D;AAC3D,WAAKjB,QAAL,CAAc;AACVS,QAAAA,MAAM,EAAC,KAAKb,KAAL,CAAWqB,IAAX,CAAgBR,MADb;AAEVC,QAAAA,SAAS,EAAC,KAAKd,KAAL,CAAWqB,IAAX,CAAgBP,SAFhB;AAGbC,QAAAA,QAAQ,EAAC,KAAKf,KAAL,CAAWqB,IAAX,CAAgBN,QAHZ;AAIbC,QAAAA,GAAG,EAAC,KAAKhB,KAAL,CAAWqB,IAAX,CAAgBL;AAJP,OAAd;AAOH;;AACD,QAAGyB,SAAS,CAACF,IAAV,KAAiB,KAAKvC,KAAL,CAAWuC,IAA/B,EAAoC;AAChC,WAAKnC,QAAL,CAAc;AACVmC,QAAAA,IAAI,EAAC,KAAKvC,KAAL,CAAWuC;AADN,OAAd;AAGH;AACJ;;AAoDDI,EAAAA,MAAM,GAAE;AAEJ,UAAMC,QAAQ,GAAC;AACXC,MAAAA,KAAK,EAAC,OADK;AAEZC,MAAAA,SAAS,EAAC,OAFE;AAGXC,MAAAA,MAAM,EAAC,MAHI;AAIXC,MAAAA,MAAM,EAAC,SAJI;AAKXC,MAAAA,OAAO,EAAC;AALG,KAAf;AAOA,WACI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAM,MAAA,QAAQ,EAAE1C,CAAC,IAAE,KAAKG,QAAL,CAAcH,CAAd,CAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,KAAK,EAAEqC,QAAZ;AAAsB,MAAA,OAAO,EAAErC,CAAC,IAAE;AAAC,aAAKP,KAAL,CAAWyB,eAAX;AAA6B,OAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACH,KAAKI,cAAL,EADG,EAEJ;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,EAEA;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,SAAS,EAAC,aAA7B;AAA2C,MAAA,IAAI,EAAC,MAAhD;AAAuD,MAAA,QAAQ,EAAE,KAAKvB,oBAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFA,EAID;AAAU,MAAA,EAAE,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACP,KAAKM,KAAL,CAAW2B,IAAX,CAAgBH,GAAhB,CAAoB,CAACc,IAAD,EAAOC,GAAP,KACnB;AAAQ,MAAA,GAAG,EAAEA,GAAb;AAAkB,MAAA,KAAK,EAAED,IAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CADO,CAJC,CAFI,CAFJ,EAeC,KAAKlD,KAAL,CAAWqB,IAAX,KAAkB,IAAlB,GAAuB;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,SAAS,EAAC,WAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAvB,GACA;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,SAAS,EAAC,WAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAhBD,CADJ,CADJ;AAuBH;;AAjHmC;;AAoHxC,eAAe5B,UAAU,CAACC,OAAO,CAAC,IAAD,EAAM;AAACC,EAAAA,OAAD;AAASC,EAAAA;AAAT,CAAN,CAAP,CAAiCC,UAAjC,CAAD,CAAzB","sourcesContent":["import React from \"react\"\nimport {withRouter} from \"react-router-dom\";\nimport {connect} from 'react-redux';\nimport {addTodo,editTodo} from \"../../actions/todo\"\nclass CreateTodo extends React.Component{\n    constructor(props){\n        super(props);\n       \n        this.state={\n            emp_id: \"\",\n            firstName:\"\",\n            lastName: \"\",\n            age:\"\",\n            bucket:\"\",\n            data:this.props.data\n        }\n    }\n    componentDidUpdate(prevProps,prevState){\n  \n        if(prevProps.todo!==this.props.todo && this.props.todo !==null){\n            this.setState({\n                emp_id:this.props.todo.emp_id,\n                firstName:this.props.todo.firstName,\n             lastName:this.props.todo.lastName,\n             age:this.props.todo.age\n              \n            })\n        }\n        if(prevProps.data!==this.props.data){\n            this.setState({\n                data:this.props.data\n            })\n        }\n    }\n    handleChange=(value,name)=>{\n        this.setState((prevstate)=>{\n\n            return{\n            [name]:value\n            }\n        })\n    }\n    handleDatalistChange=(e)=>{\n        this.setState({\n            Bucket:e.target.value\n        })\n    }\n    onSubmit=(e)=>{\n        e.preventDefault();\n    let {emp_id,firstName,lastName,age,bucket}=this.state;\n     const Creator=this.props.user.Username;\n     if(Bucket===\"\"){\n        Bucket=\"Customised\"\n     }\n     if(this.props.todo===null){\n        this.props.addTodo({Title,Category,Description,Creator,Bucket},this.props.closeCreateTodo)\n     }\n     else{\n      \n         this.props.editTodo({id:this.props.todo._id,Title,Category,Description,Creator,Bucket},this.props.closeCreateTodo, this.props.activeTodoDone)\n        \n     }\n    \n    }\n  \n    renderTodoForm=()=>{\n        const fields=[ {tag:\"input\",label:\"Title\",type:\"text\",className:\"input-field\",\n        value:this.state.Title,onChange:this.handleChange},\n        {tag:\"input\",label:\"Category\",type:\"text\",className:\"input-field\",\n        value:this.state.Category,onChange:this.handleChange},\n        {tag:\"input\",label:\"Description\",type:\"text\",className:\"input-field\",\n        value:this.state.Description,onChange:this.handleChange}]\n       return fields.map((field,i)=>{\n           if(field.tag===\"input\"){\n            return(\n                <div className=\"field-container\" key={i}>\n                <label>{field.label}:</label>\n                <input className=\"input-field\" type={field.type} value={field.value} onChange={(e)=>field.onChange(e.target.value,field.label)} />\n                </div>\n            )\n           }\n         \n        })\n       \n    }\n    render(){\n      \n        const styleobj={\n            color:\"white\",\n           textAlign:\"right\",\n            margin:\"15px\",\n            cursor:\"pointer\",\n            padding:\"4px\"\n        }\n        return(\n            <React.Fragment>\n                <form onSubmit={e=>this.onSubmit(e)}>\n                    <div style={styleobj} onClick={e=>{this.props.closeCreateTodo()}}>X</div>\n                    <div>\n                {this.renderTodoForm()}\n                <div className=\"field-container\">\n                    <label>Bucket:</label>\n                <input type=\"text\" className=\"input-field\" list=\"data\" onChange={this.handleDatalistChange} />\n\n               <datalist id=\"data\">\n       {this.state.data.map((item, key) =>\n         <option key={key} value={item} />\n  )}\n</datalist>\n</div>\n                </div>\n                {this.props.todo===null?<button type=\"submit\" className=\"btn-login\">Create Todo</button>\n                :<button type=\"submit\" className=\"btn-login\">Edit Todo</button>}\n                </form>\n                \n            </React.Fragment>\n        )\n    }\n}\n\nexport default withRouter(connect(null,{addTodo,editTodo})(CreateTodo));"]},"metadata":{},"sourceType":"module"}